<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.js"></script>
    <link rel="stylesheet" href="bundle.css">
    <link rel="stylesheet" href="join-group.css">
    <script src="logout.js" type="text/javascript"></script>
    <link href="images/logo.png" rel="icon" type="image/x-icon" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
    <title>Welcome to UW Study Circle</title>
</head>

<body>

    <nav class="navbar bg-dark">
        <h1>UW Study Circle</h1>
        <ul>
            <li>
                <a href="dashboard.html">Dashboard</a>
            </li>

            <li>
                <a href="profiles.html">Group Screen</a>
            </li>

            <li>
                |
                <a href="create-profile.html">
                    <i class="fas fa-user"></i>
                    <span class="hide-sm">Profile</span>
                </a>
            </li>

            <li>
                <a href="javascript:void(0);" onclick=logout()>
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="hide-sm">Logout</span>
                </a>
            </li>
        </ul>
    </nav>
    <section class="container">
        <a href="profiles.html" class="btn">Back to Profiles</a>

        <div class="profiles">
            <!-- main (chat history + texting) -->
            <div class="chatspace">
                <!-- (this need to change to chat history box!!!)-->
                <div class="texting">
                    <h5>
                        Leslie
                    </h5>
                    <p class="chatting">
                        Does anyone done it? I can not fugure out the u,v values for the six dots if anyone has tips for that. 
                        I've gotten all the other faces except for this one. 
                    </p>
                    <!-- hard code: 1st time stamp-->
                    <div class="time-stamp">
                        <table><tr>
                            <td style="border-bottom: 0.5px solid #aaa; width: 47%">&nbsp;</td>
                            <td style="color:#aaa; vertical-align:middle;text-align:center; font-size:9px" rowspan="2">03/31/2021</td>
                            <td style="border-bottom: 0.5px solid #aaa; width: 47%">&nbsp;</td>
                            </tr><tr>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            </tr></table>
                    </div>
                    
                    <h5>
                        Sean
                    </h5>
                    <p class="chatting">
                            Why is a quaternion used for keeping track of an object's rotation?
                    </p>
                    <h5>
                        Leslie
                    </h5>
                    <p class="chatting">
                        I think mainly becaause it makes it very easy to compose.
                    </p>
                    <h5>
                        Max
                    </h5>
                    <p class="chatting"> 
                        Yeah, look on page 32/33 of lecture 16.
                    </p>
                    <h5>
                        Sam
                    </h5>
                    <p class="chatting">
                        Thx
                    </p>
                    <!-- hard code: 2nd time stamp-->
                    <div class="time-stamp">
                        <table><tr>
                            <td style="border-bottom: 0.5px solid #aaa; width: 47%">&nbsp;</td>
                            <td style="color:#aaa; vertical-align:middle;text-align:center; font-size:9px" rowspan="2">04/01/2021</td>
                            <td style="border-bottom: 0.5px solid #aaa; width: 47%">&nbsp;</td>
                            </tr><tr>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            </tr></table>
                    </div>
                    <h5>
                        Max
                    </h5>
                    <p class="chatting">
                        Exam 2 is tomorrow, right? Could anyone share your notes?
                    </p>
                    <h5>
                        Sam
                    </h5>
                    <p class="chatting">
                        I've upload my notes yesterday. Go to group doc and check it 0331.pdf.
                    </p>    
                </div>


                <!-- (this need to change to texting box!!!)-->
                <div class="texting">
                    <form action="" method="POST">
                        <!-- <div>
                            <p class="chatting">Awesome.</p>
                        </div> -->
                        <input type="text" class="username" placeholder="User Name"/>
                        <input type="text" class="message" placeholder="Messages"/>
                        <div class="message_holder"></div>
                    
                    
                    <br><br><br>
                    <div class="tool">
                       
                        <div id="send">
                            <input type="submit" value="Send"/>
                            <!-- <a href="#"><i style='font-size:18px' class='fas'>&#xf1d8;</i></a> -->
                        </div>
                    </div>
                        
                    </form>
                </div>  

            </div>
            <!-- sidebar -->
            <div class="sidebar-right">
                <!-- Group Member / Group Info -->
                <div class="title">
                    <a href="#" class="btn btn-primary" id="group-mem">Group Member</a>
                    <a href="#" class="btn btn-primary" id="group-info">Group Info</a>
                </div>
                <!-- Show Members / Show Info -->
                <div class="side-content" id="show-content">
                    <div class="contents" id="members">
                        <p class="text" id="text-1"></p>
                    </div>
                    <div class="contents" id="info">
                        <p class="text" id="text-2"></p>
                    </div>
                </div>

                
            </div>
        </div>
    </section>
    <script src="join-group.js"></script>
    <script src="bundle.js" async></script>
    
    <script type="text/javascript">
        var socket = io.connect('http://' + "localhost" + ':' + "6969");
    
        socket.on( 'connect', function() {
          socket.emit( 'my event', {
            credentials: true,
            data: 'User Connected'
          } )
          var form = $( 'form' ).on( 'submit', function( e ) {
            e.preventDefault()
            let user_name = $( 'input.username' ).val()
            let user_input = $( 'input.message' ).val()
            socket.emit( 'my event', {
              user_name : user_name,
              message : user_input
            } )
            $( 'input.message' ).val( '' ).focus()
          } )
        } )
        socket.on( 'my response', function( msg ) {
          console.log( msg )
          if( typeof msg.user_name !== 'undefined' ) {
            $( 'h3' ).remove()
            $( 'div.message_holder' ).append( '<div><b style="color: #000">'+msg.user_name+'</b> '+msg.message+'</div>' )
          }
        })
      </script>
</body>

</html>
